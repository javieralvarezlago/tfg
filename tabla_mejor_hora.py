import numpy as np
import matplotlib
import matplotlib.pyplot as plt

horas = ["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14", "15", "16", "17", "18","19","20","21","22","23"]
divisas = ["krkr btc", "krkr eth", "krkr ltc", "krkr xrp", "btfn btc", "btfn eth", "btfn ltc", "btfn xrp"]

# harvest = np.array([[0.0353,-0.016,0.1417,-0.1118,0.0235,-0.029,0.1311,-0.1313],
#                 [0.056,-0.0591,0.1053,-0.1036,0.0489,-0.0659,0.0971,-0.1165],
#                 [0.017,-0.1073,0.1254,-0.1106,0.0109,-0.1127,0.12,-0.122],
#                 [-0.0863,-0.2558,-0.0109,-0.1919,-0.0946,-0.2629,-0.0208,-0.2052],
#                 [-0.0893,-0.2235,-0.0826,-0.0845,-0.0943,-0.2266,-0.0892,-0.0941],
#                 [-0.1234,-0.2091,-0.1297,0.0314,-0.1288,-0.2152,-0.1355,0.0202],
#                 [-0.0645,-0.1281,-0.0013,0.1478,-0.0723,-0.1361,-0.0048,0.1351],
#                 [-0.0387,-0.1026,0.0162,0.2543,-0.0495,-0.1124,0.0095,0.2382],
#                 [-0.0236,-0.0972,0.0523,0.1794,-0.0227,-0.0964,0.0486,0.179],
#                 [-0.0432,-0.1634,-0.0328,-0.0298,-0.0385,-0.1547,-0.0286,-0.0218],
#                 [-0.0356,-0.1368,-0.0478,0.0255,-0.0337,-0.1327,-0.0362,0.0377],
#                 [-0.0274,-0.134,-0.0536,0.0455,-0.027,-0.127,-0.0402,0.0589],
#                 [-0.0083,-0.1025,-0.0409,-0.0267,-0.0091,-0.1008,-0.0397,-0.0237],
#                 [0.078,-0.0089,0.0497,-0.0442,0.0768,0.004,0.0415,-0.0388],
#                 [0.02,-0.0091,-0.0653,-0.1911,0.0274,0.0107,-0.0593,-0.1822],
#                 [-0.0121,0.0058,-0.0952,-0.2509,-0.0123,0.0115,-0.0983,-0.2483],
#                 [-0.0163,0.1445,0.02,0.0728,-0.0012,0.1495,0.0525,0.1178],
#                 [-0.0034,0.1404,0.0006,0.011,-0.0174,0.1296,-0.0027,0.0073],
#                 [0.0138,0.1505,0.0104,-0.0318,0.0019,0.1377,-0.0025,-0.0386],
#                 [0.0172,0.1531,-0.0059,-0.0549,0.0099,0.14,-0.016,-0.057],
#                 [0.0059,0.1732,-0.0826,-0.0368,0.001,0.1654,-0.0874,-0.0328],
#                 [0.052,0.2321,-0.0588,0.0719,0.0454,0.2218,-0.0644,0.0658],
#                 [0.1304,0.3564,0.0832,0.16,0.1231,0.3443,0.0788,0.1624],
#                 [0.1591,0.3923,0.1451,0.2564,0.1439,0.3778,0.1339,0.2544]])

harvest = np.array([[-0.1313,-0.1095,-0.0642,0.0566,-0.1358,-0.1183,-0.0947,0.0647],
                [-0.1045,-0.0548,0.0243,0.0908,-0.1014,-0.056,0.0093,0.1003],
                [-0.1055,-0.068,0.0292,0.0562,-0.0957,-0.0612,0.0043,0.0639],
                [-0.0993,-0.0907,0.0013,0.0269,-0.0929,-0.0965,-0.0286,0.0334],
                [-0.1437,-0.1754,-0.0834,-0.0701,-0.1364,-0.1723,-0.1014,-0.0585],
                [-0.1767,-0.2307,-0.1782,-0.1148,-0.1634,-0.2184,-0.1731,-0.0921],
                [-0.1586,-0.213,-0.1244,-0.0813,-0.1466,-0.2013,-0.135,-0.0591],
                [-0.1353,-0.1736,-0.06,-0.0474,-0.1228,-0.1578,-0.1089,-0.0249],
                [-0.0965,-0.1332,-0.0889,-0.096,-0.0852,-0.122,-0.0673,-0.0733],
                [-0.1142,-0.1534,-0.0877,-0.1683,-0.099,-0.1363,-0.0928,-0.1441],
                [-0.1148,-0.1524,-0.1378,-0.1733,-0.1051,-0.1321,-0.0972,-0.1488],
                [-0.1339,-0.1566,-0.1138,-0.1806,-0.1197,-0.1393,-0.1483,-0.1645],
                [-0.1139,-0.1583,-0.0483,-0.1299,-0.1046,-0.1459,-0.1215,-0.1147],
                [-0.0319,-0.1029,0.0076,-0.0003,-0.0318,-0.0982,-0.0571,0.0043],
                [0.0472,-0.0154,-0.0285,0.0415,0.0422,-0.0101,-0.0039,0.064],
                [0.043,-0.0448,0.1004,-0.0438,0.0302,-0.0546,-0.0469,-0.0276],
                [0.0787,0.0577,0.0542,-0.0247,0.0731,0.054,0.0806,-0.0117],
                [0.0847,0.081,0.0457,-0.0644,0.0806,0.0727,0.0457,-0.052],
                [0.0843,0.1164,0.0553,-0.002,0.0787,0.1065,0.0347,0.0097],
                [0.1284,0.1624,0.0902,0.0324,0.1209,0.1563,0.0417,0.0481],
                [0.1756,0.2211,0.1751,0.0151,0.1684,0.216,0.0692,0.0251],
                [0.2874,0.3395,0.2261,0.1056,0.2769,0.3298,0.1484,0.1117],
                [0.3323,0.3814,0.2516,0.1445,0.3197,0.3677,0.1964,0.1485],
                [0.325,0.3853,-0.0939,0.1779,0.3161,0.378,0.2223,0.1853]])


fig, ax = plt.subplots(figsize=(15, 8))
im = ax.imshow(harvest)

# Show all ticks and label them with the respective list entries
ax.set_xticks(np.arange(len(divisas)), labels=divisas)
ax.set_yticks(np.arange(len(horas)), labels=horas)

# Rotate the tick labels and set their alignment.
plt.setp(ax.get_xticklabels(), rotation=45, ha="right", rotation_mode="anchor")

# Loop over data dimensions and create text annotations.
for i in range(len(horas)):
    for j in range(len(divisas)):
        text = ax.text(j, i, harvest[i, j], ha="center", va="center", color="w")

ax.set_title("Mejor y peor hora del d√≠a 2020")
fig.tight_layout()
plt.show()